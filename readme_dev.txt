- Код личного кабинета находится в папке "cabinet"
- Маршрутизация запросов происходит в .htaccess в корневой папке
- "Клиентский скрипт" - скрипт для подмены телефонного номера на сайте, написанный javascript и устанавливаемый на сайт клиента. На стороне клиента имеет имя "numloader.js".

PHP

1. ApiRestController.php - обработка большинства запросов к API, происходящих после того, как клиент залогинится в личный кабинета
2. PublicRestController.php - обработка запросов к API на вход, регистрацию, смену пароля, а также для обращения к API со стороны клиентского скрипта и со стороны службы яндекс.касса
3. AppConfig.php - конфигурация приложения и глобальные константы
4. Для обработки HTTP-запроса как правило вызывается метод из соответствующего хэндлера (в папке handler). В хэндлере либо вызывается одна или последовательность команд либо производится любая другая обработка входящего запроса.
5. Для обращения к БД либо создаем репозиторий либо пишем процедуру выполнения запроса прямо в команде (Это по ситуации)
6. Для упрощения понимания кода следует использовать объекты-сущности (в папке domain)
7. При обращении к БД учитывать транзакционность! Каждая команда, выполняемая из хэндлера через конструкцию $this->handle($command) - это единичная транзакция (этого хватает для большинства операций) (открытие и закрытие транзакции описано в cabinet/php/handlers/SimpleRest.php). Для выполнения нескольких команд в рамках одной транзакции нужно искать способы в каждом конкретном случае.

JS

1. cabinet/js/app.js - список модулей ангуляр. Следует создавать модули для логически схожих групп операций в интерфейсе (и запросов к серверу)
2. cabinet/js/config.js - конфигурация приложения ангуляр + описание всех состояний ангуляра.
3. cabinet/js/controllers.js - ВНИМАНИЕ!!! СЮДА НЕ НАДО ПИСАТЬ свои контроллеры. Этот файл оставлен на всякий случай и будет удален!!! ВМЕСТО ЭТОГО НАДО ИСПОЛЬЗОВАТЬ файл cabinet/js/allostat-controllers/controllers.js
4. cabinet/js/services.js - здесь содержатся сервисы и фабрики, используемые как утилиты в проекте.
5. cabinet/js/allostat-controllers - именно в этой папке все созданные для проекта модули и контроллеры. 
6. cabinet/js/allostat-controllers/controllers.js - правильный рабочий файл с контроллерами! (упомянут в п. 3) Сюда добавлять свой функционал!

Все рабочие формы являются потомками состояния container. Соответственно, большинство состояний имеет имя "container.function".

Пример описания состояния ангуляр из cabinet/js/config.js:

        .state('container.tariff_settings', {
            url: "/tariff_settings",
            templateUrl: "views/allostat/tariffSettings.html",
            controller: TariffSettingsCtrl,
            data: { pageTitle: 'Тарифы' },
            ncyBreadcrumb: {
                label: 'Тарифы'
            }
        })
		
Соответственно для страницы должно быть:
	- создано аналогичное описание состояния, 
	- создана разметка в файле, указанном в параметре templateUrl	
	- описан контроллер состояния по имени, указанном в параметре controller
	
Для логически схожих групп операций в интерфейсе, а также http-запросов к серверу, относящимся к такой группе, должны создаваться модули ангуляр. Пример:

--- файл tariffModule.js

var app = angular.module('inspinia.tariffsettings', [ 'inspinia.services' ]);

app.service('TariffSettingsService', function(Restangular) {
    return {
        load: function() {
            return Restangular.all("tariffSettings/load").post();
        },
        save: function(settings) {
            return Restangular.all("tariffSettings/save").post({settings: settings});
        }
    }
});

function TariffSettingsCtrl ($rootScope, $scope, notify, TariffSettingsService, util) {
}
--- конец файла tariffModule.js

- Название модуля должно быть прописано в app.js
- В cabinet/index.html должны быть прописаны ссылки на js-файлы, описывающие модули

HTML

1. cabinet/views/allostat - именно в этой папке все созданные для проекта HTML-формы
2. Меню слева находится в cabinet/views/common/navigation.html
3. Панель наверху находится в cabinet/views/common/topnavbar.html
4. cabinet/index.html - основной контейнер разметки в личном кабинете. Содержит ссылки на все js-скрипты.
